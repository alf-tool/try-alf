<div ng-controller="QueryController">
  <div id="editor" class="row">
    <div class="header">
      <p class="human pull-left">
        <span>{{query.human}}</span>
      </p>
      <p class="alternatives pull-right">
        <span ng-repeat="q in query.alternatives"
              ng-click="setQuery(q)"
              class="badge"
              ng-class="{'badge-info': q['query']==src}">
          {{$index+1}}
        </span>
        <i class="icon-repeat" ng-click="getQueryAtRandom()"/>
        <i class="icon-magnet" ng-click="$state.transitionTo('try', {src: src})"/>
      </p>
      <div class="clearfix"></div>
    </div>
    <div id="ace" ui-ace="{theme: 'textmate', mode: 'ruby', onLoad: aceLoaded}" ng-model="src"></div>
  </div>
  <div class="row">
    <div id="error" class="alert alert-error" ng-show="error">{{error}}</div>
  </div>
  <div ng-include="'/result.html'"/>
</div>